<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - KOPKAKA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Pustaka untuk generate PDF -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="logo/logo.png" type="image/png">
    <link rel="shortcut icon" href="logo/logo.png" type="image/png">
    <link rel="stylesheet" href="style.css"> <!-- Menggunakan CSS utama proyek -->
    <style>
        @media print {
            body * {
                visibility: hidden;
            }
            #printable-area, #printable-area * {
                visibility: visible;
            }
            #printable-area {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="flex h-screen bg-gray-100">
        <!-- Sidebar -->
        <div id="sidebar" class="fixed inset-y-0 left-0 w-64 bg-red-900 text-white p-4 flex flex-col transform md:relative md:translate-x-0 -translate-x-full transition-transform duration-200 ease-in-out z-30">
            <div class="flex-shrink-0 flex items-center space-x-3 p-2 border-b border-red-950 pb-4">
                <img id="header-logo-img" src="logo/logo.png" alt="Logo KOPKAKA" class="h-8 w-auto">
                <h2 class="text-xl font-bold">KOPKAKA</h2>
            </div>
            <nav class="flex-1 space-y-2 mt-6 overflow-y-auto">
                <a href="#" class="sidebar-link active flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="dashboard">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
                    <span>Beranda</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="approvals">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span>Persetujuan</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="members">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    <span>Anggota</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="savings">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    <span>Simpanan</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="loans">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path></svg>
                    <span>Pinjaman</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="usaha-koperasi">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
                    <span>Usaha Koperasi</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="accounting">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h3m-3 0v-3m-3 3h3m-3 0v-3m8-5H7a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V9a2 2 0 00-2-2z"></path></svg>
                    <span>Akunting</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="reports">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                    <span>Laporan</span>
                </a>
                <div class="pt-4 mt-4 space-y-2 border-t border-red-800/50">
                    <a href="#" class="sidebar-link flex items-center space-x-2 py-2.5 px-4 rounded-lg" data-target="settings">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        <span>Pengaturan</span>
                    </a>
                </div>
            </nav>
            <!-- Tombol logout dipindahkan ke dropdown header -->
        </div>

        <!-- Overlay for mobile -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black opacity-50 z-20 hidden md:hidden"></div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <header class="bg-white shadow p-4 flex justify-between items-center">
                <button id="menu-button" class="md:hidden text-gray-500 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
                <h1 id="page-title" class="text-xl font-semibold text-gray-700">Beranda</h1>                
                <div class="flex items-center space-x-4">
                    <!-- Notification Bell -->
                    <div class="relative">
                        <button id="notification-bell-btn" class="relative p-2 text-gray-500 rounded-full hover:bg-gray-100 hover:text-gray-600 focus:outline-none">
                            <span id="notification-badge" class="hidden absolute top-0 right-0 h-2 w-2 mt-1 mr-2 bg-red-500 rounded-full"></span>
                            <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
                        </button>
                        <!-- Notification Dropdown -->
                        <div id="notification-dropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-20">
                            <div class="py-2 px-4 flex justify-between items-center border-b">
                                <h3 class="font-semibold text-gray-700">Notifikasi</h3>
                                <button id="mark-all-read-btn" class="text-xs text-blue-600 hover:underline">Tandai semua dibaca</button>
                            </div>
                            <div id="notification-list" class="max-h-96 overflow-y-auto">
                                <!-- Notification items will be loaded here -->
                            </div>
                        </div>
                    </div>
                    <!-- User Profile Dropdown -->
                    <div class="relative" id="user-profile-container">
                        <button id="user-profile-button" class="flex items-center space-x-2 focus:outline-none">
                            <span id="user-name-header" class="font-medium text-gray-600">Nama Pengguna</span>
                            <img id="header-profile-icon" src="" alt="Foto Profil" class="w-8 h-8 rounded-full object-cover bg-gray-200">
                        </button>
                        <div id="user-dropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-20 hidden">
                            <a href="#" data-target="admin-profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profil Saya</a>
                            <a href="#" id="change-password-btn" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Ganti Password</a>
                            <div class="border-t border-gray-100"></div>
                            <a href="#" id="header-logout-button" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Keluar</a>
                        </div>
                    </div>
                </div>
            </header>
            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6">
                
                <!-- Dashboard Section -->
                <div id="dashboard-content" class="content-section active">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Ringkasan Koperasi</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="bg-white p-6 rounded-lg shadow-md flex flex-col">
                            <h3 class="text-lg font-medium text-gray-600">Total Anggota Aktif</h3>
                            <p id="total-members" class="text-3xl font-bold text-blue-600 mt-2">0</p>
                            <a href="#" data-target="members" class="sidebar-link text-sm text-blue-500 hover:underline mt-auto pt-2">Lihat Detail</a>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md flex flex-col">
                            <h3 class="text-lg font-medium text-gray-600">Total Simpanan</h3>
                            <p id="total-savings" class="text-3xl font-bold text-green-600 mt-2">Rp 0</p>
                            <a href="#" data-target="savings" class="sidebar-link text-sm text-green-500 hover:underline mt-auto pt-2">Lihat Detail</a>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md flex flex-col">
                            <h3 class="text-lg font-medium text-gray-600">Total Pinjaman Aktif</h3>
                            <p id="total-loans" class="text-3xl font-bold text-red-600 mt-2">Rp 0</p>
                            <a href="#" data-target="loans" class="sidebar-link text-sm text-red-500 hover:underline mt-auto pt-2">Lihat Detail</a>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md flex flex-col">
                            <h3 class="text-lg font-medium text-gray-600">Pendaftaran Baru</h3>
                            <p id="pending-members-count" class="text-3xl font-bold text-yellow-600 mt-2">0</p>
                            <a href="#" data-target="approvals" class="sidebar-link text-sm text-blue-500 hover:underline mt-auto pt-2">Lihat Detail</a>
                        </div>
                    </div>
                    <!-- Charts Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8">
                        <!-- Card untuk Grafik Arus Kas dengan Filter -->
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 id="cashflow-chart-title" class="text-lg font-medium text-gray-600">Arus Kas (30 Hari Terakhir)</h3>
                                </div>
                                <div class="flex items-center space-x-2 text-sm">
                                    <input type="date" id="cf-chart-start-date" class="border-gray-300 rounded-md shadow-sm text-sm p-1 w-32">
                                    <span class="text-gray-500">-</span>
                                    <input type="date" id="cf-chart-end-date" class="border-gray-300 rounded-md shadow-sm text-sm p-1 w-32">
                                    <button id="apply-cf-chart-filter" class="bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 text-xs">Terapkan</button>
                                </div>
                            </div>
                            <div class="h-60 relative">
                                <canvas id="cashflow-chart"></canvas>
                            </div>
                        </div>
                        <!-- Card baru untuk Grafik Pertumbuhan Anggota -->
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-medium text-gray-600 mb-4">Pertumbuhan Anggota (12 Bulan Terakhir)</h3>
                            <div class="h-60 relative">
                                <canvas id="member-growth-chart"></canvas>
                            </div>
                        </div>
                        <!-- Card baru untuk Grafik Neraca -->
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-medium text-gray-600 mb-4">Ringkasan Neraca</h3>
                            <div class="h-80 relative">
                                <canvas id="balance-sheet-chart"></canvas>
                            </div>
                        </div>
                        <!-- Card baru untuk Grafik Laba Rugi -->
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="flex justify-between items-center mb-4">
                                <h3 id="income-statement-chart-title" class="text-lg font-medium text-gray-600">Ringkasan Laba Rugi</h3>
                                <div>
                                    <label for="income-statement-year-filter" class="text-sm font-medium text-gray-700 mr-2">Tahun:</label>
                                    <select id="income-statement-year-filter" class="rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 text-sm py-1"></select>
                                </div>
                            </div>
                            <div class="h-80 relative">
                                <canvas id="income-statement-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin Profile Section -->
                <div id="admin-profile-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Profil Saya</h2>
                        <button class="back-to-dashboard-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Beranda</button>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-md max-w-3xl mx-auto">
                        <!-- Photo and Edit Section -->
                        <div id="admin-profile-photo-section" class="flex flex-col sm:flex-row items-center sm:items-start gap-6 mb-8 pb-8 border-b">
                            <!-- Photo and upload controls will be rendered here by JavaScript -->
                            <p class="text-center text-gray-500">Memuat data profil...</p>
                        </div>
                    </div>
                </div>

                <!-- Approvals Section -->
                <div id="approvals-content" class="content-section">
                    <div id="approvals-main-view">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-6">Persetujuan</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Card Pendaftaran Anggota -->
                            <div data-target="approval-members-tab" class="approval-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                                <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mb-4"><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg></div>
                                <div class="flex items-center">
                                    <h3 class="font-semibold text-lg text-gray-800">Pendaftaran Anggota</h3>
                                    <span id="pending-members-card-count" class="ml-2 text-base font-bold text-red-600"></span>
                                </div>
                                <p class="text-sm text-gray-500 mt-1 flex-grow">Verifikasi dan setujui anggota baru.</p>
                            </div>
                            <!-- Card Pengajuan Simpanan -->
                            <div data-target="approval-savings-tab" class="approval-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                                <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mb-4"><svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div>
                                <div class="flex items-center">
                                    <h3 class="font-semibold text-lg text-gray-800">Setoran Simpanan</h3>
                                    <span id="pending-savings-card-count" class="ml-2 text-base font-bold text-red-600"></span>
                                </div>
                                <p class="text-sm text-gray-500 mt-1 flex-grow">Verifikasi bukti transfer setoran (wajib & sukarela).</p>
                            </div>
                            <!-- Card Penarikan Simpanan -->
                            <div data-target="approval-withdrawals-tab" class="approval-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                                <div class="w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center mb-4"><svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path></svg></div>
                                <div class="flex items-center">
                                    <h3 class="font-semibold text-lg text-gray-800">Penarikan Simpanan</h3>
                                    <span id="pending-withdrawals-card-count" class="ml-2 text-base font-bold text-red-600"></span>
                                </div>
                                <p class="text-sm text-gray-500 mt-1 flex-grow">Proses permintaan penarikan simpanan sukarela.</p>
                            </div>
                            <!-- Card Pengajuan Pinjaman -->
                            <div data-target="approval-loans-tab" class="approval-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                                <div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mb-4"><svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v-1m0-1V4m0 2.01M12 14v4m0 0v1m0-1.01M12 16.01V14m0 6a9 9 0 110-18 9 9 0 010 18z"></path></svg></div>
                                <div class="flex items-center">
                                    <h3 class="font-semibold text-lg text-gray-800">Pengajuan Pinjaman</h3>
                                    <span id="pending-loans-card-count" class="ml-2 text-base font-bold text-red-600"></span>
                                </div>
                                <p class="text-sm text-gray-500 mt-1 flex-grow">Tinjau dan setujui pengajuan pinjaman baru.</p>
                            </div>
                            <!-- Card Pembayaran Angsuran -->
                            <div data-target="approval-loan-payments-tab" class="approval-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col"><div class="w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center mb-4"><svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8h6m-5 4h.01M18 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>
                                <h3 class="font-semibold text-lg text-gray-800">Pembayaran Angsuran <span id="pending-loan-payments-card-count" class="ml-2 text-base font-bold text-red-600"></span></h3>
                                <p class="text-sm text-gray-500 mt-1 flex-grow">Verifikasi bukti pembayaran angsuran dari anggota.</p>
                            </div>
                            <!-- Card Pengunduran Diri -->
                            <div data-target="approval-resignations-tab" class="approval-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                                <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-4"><svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7a4 4 0 11-8 0 4 4 0 018 0zM9 14a6 6 0 00-6 6v1h12v-1a6 6 0 00-6-6z"></path></svg></div>
                                <div class="flex items-center">
                                    <h3 class="font-semibold text-lg text-gray-800">Pengunduran Diri</h3>
                                    <span id="pending-resignations-card-count" class="ml-2 text-base font-bold text-red-600"></span>
                                </div>
                                <p class="text-sm text-gray-500 mt-1 flex-grow">Proses permintaan pengunduran diri anggota.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Members Tab -->
                    <div id="approval-members-tab" class="approval-tab-content mt-6 hidden">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                            <div class="px-4 py-5 sm:px-6 flex justify-between items-center"><h3 class="text-lg leading-6 font-medium text-gray-900">Pendaftaran Anggota Baru</h3><button class="back-to-approvals-btn text-sm text-red-600 hover:underline">&larr; Kembali</button></div>
                            <div class="border-t border-gray-200 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Koperasi</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">NIK</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Perusahaan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Daftar</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pending-members-table-body" class="bg-white divide-y divide-gray-200">
                                        <!-- Data akan dimuat di sini -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Savings Tab -->
                    <div id="approval-savings-tab" class="approval-tab-content mt-6 hidden">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                            <div class="px-4 py-5 sm:px-6 flex justify-between items-center"><h3 class="text-lg leading-6 font-medium text-gray-900">Persetujuan Setoran Simpanan</h3><button class="back-to-approvals-btn text-sm text-red-600 hover:underline">&larr; Kembali</button></div>
                            <div class="border-t border-gray-200 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tipe Setoran</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Koperasi</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Jumlah</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Pengajuan</th>
                                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Bukti</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pending-savings-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Withdrawals Tab -->
                    <div id="approval-withdrawals-tab" class="approval-tab-content mt-6 hidden">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                            <div class="px-4 py-5 sm:px-6 flex justify-between items-center"><h3 class="text-lg leading-6 font-medium text-gray-900">Pengajuan Penarikan Simpanan</h3><button class="back-to-approvals-btn text-sm text-red-600 hover:underline">&larr; Kembali</button></div>
                            <div class="border-t border-gray-200 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Koperasi</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Jumlah</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Pengajuan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Keterangan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pending-withdrawals-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Loans Tab -->
                    <div id="approval-loans-tab" class="approval-tab-content mt-6 hidden">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                            <div class="px-4 py-5 sm:px-6 flex justify-between items-center"><h3 class="text-lg leading-6 font-medium text-gray-900">Pengajuan Pinjaman</h3><button class="back-to-approvals-btn text-sm text-red-600 hover:underline">&larr; Kembali</button></div>
                            <div class="border-t border-gray-200 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Koperasi</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tipe Pinjaman</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Jumlah</th>
                                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Tenor</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Rekening Tujuan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Pengajuan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status Saat Ini</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pending-loans-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div> 
                    </div>

                    <!-- Pending Loan Payments Tab -->
                    <div id="approval-loan-payments-tab" class="approval-tab-content mt-6 hidden">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                            <div class="px-4 py-5 sm:px-6 flex justify-between items-center"><h3 class="text-lg leading-6 font-medium text-gray-900">Persetujuan Pembayaran Angsuran</h3><button class="back-to-approvals-btn text-sm text-red-600 hover:underline">&larr; Kembali</button></div>
                            <div class="border-t border-gray-200 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Pinjaman</th>
                                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Angsuran Ke-</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Jumlah Bayar</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tgl Pengajuan</th>
                                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Bukti</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pending-loan-payments-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Resignations Tab -->
                    <div id="approval-resignations-tab" class="approval-tab-content mt-6 hidden">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                            <div class="px-4 py-5 sm:px-6 flex justify-between items-center"><h3 class="text-lg leading-6 font-medium text-gray-900">Permintaan Pengunduran Diri</h3><button class="back-to-approvals-btn text-sm text-red-600 hover:underline">&larr; Kembali</button></div>
                            <div class="border-t border-gray-200 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Koperasi</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Bergabung</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total Simpanan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Permintaan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pending-resignations-table-body" class="bg-white divide-y divide-gray-200">
                                        <!-- Data akan dimuat di sini oleh admin.js -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Resignation History Tab -->
                    <div id="resignation-history-tab" class="approval-tab-content mt-6 hidden">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                            <div class="px-4 py-5 sm:px-6 flex justify-between items-center"><h3 class="text-lg leading-6 font-medium text-gray-900">Riwayat Anggota Nonaktif</h3><button class="back-to-approvals-btn text-sm text-red-600 hover:underline">&larr; Kembali</button></div>
                            <div class="border-t border-gray-200 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Koperasi</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Bergabung</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Keluar</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="resignation-history-table-body" class="bg-white divide-y divide-gray-200">
                                        <!-- Data will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Members Section -->
                <div id="members-content" class="content-section">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Daftar Anggota</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <form id="members-filter-form" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-end">
                            <div class="md:col-span-2">
                                <label for="members-filter-search" class="block text-sm font-medium text-gray-700">Cari Nama / No. Koperasi</label>
                                <input type="text" id="members-filter-search" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="members-filter-company" class="block text-sm font-medium text-gray-700">Perusahaan</label>
                                <select id="members-filter-company" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></select>
                            </div>
                            <div class="flex justify-end space-x-2">
                                <button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Filter</button>
                                <button type="button" id="members-filter-reset-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Reset</button>
                            </div>
                        </form>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No.</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Koperasi</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">KTP</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Perusahaan</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Jabatan</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total Simpanan</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Pinjaman Aktif</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tgl Bergabung</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="members-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                        <!-- Pagination Controls -->
                        <div id="members-pagination-controls" class="mt-4 flex justify-between items-center text-sm text-gray-600">
                            <!-- Rendered by JS -->
                        </div>
                    </div>
                </div>

                <!-- Savings Section -->
                <div id="savings-content" class="content-section">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Daftar Simpanan</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <form id="savings-filter-form" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-end">
                            <div class="md:col-span-2">
                                <label for="savings-filter-search" class="block text-sm font-medium text-gray-700">Cari Nama Anggota</label>
                                <input type="text" id="savings-filter-search" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="savings-filter-type" class="block text-sm font-medium text-gray-700">Tipe Simpanan</label>
                                <select id="savings-filter-type" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></select>
                            </div>
                            <div>
                                <label for="savings-filter-status" class="block text-sm font-medium text-gray-700">Status</label>
                                <select id="savings-filter-status" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                    <option value="">Semua Status</option>
                                    <option value="Approved">Approved</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Rejected">Rejected</option>
                                </select>
                            </div>
                            <div>
                                <label for="savings-filter-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="savings-filter-start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="savings-filter-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="savings-filter-end-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div class="md:col-span-2 flex justify-end space-x-2">
                                <button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Filter</button>
                                <button type="button" id="savings-filter-reset-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Reset</button>
                            </div>
                        </form>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tipe</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Jumlah</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Keterangan</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="savings-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Data simpanan akan dimuat di sini -->
                                </tbody>
                                <tfoot id="savings-table-footer"></tfoot>
                            </table>
                        </div>
                        <!-- Pagination Controls for Savings -->
                        <div id="savings-pagination-controls" class="mt-4 flex justify-between items-center text-sm text-gray-600">
                            <!-- Rendered by JS -->
                        </div>
                    </div>
                </div>

                <!-- Loans Section -->
                <div id="loans-content" class="content-section">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Daftar Pinjaman</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <form id="loans-filter-form" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-end">
                            <div class="md:col-span-2">
                                <label for="loans-filter-search" class="block text-sm font-medium text-gray-700">Cari Nama Anggota</label>
                                <input type="text" id="loans-filter-search" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div class="md:col-span-2">
                                <label for="loans-filter-status" class="block text-sm font-medium text-gray-700">Status</label>
                                <select id="loans-filter-status" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                    <option value="">Semua Status</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Approved by Accounting">Approved by Accounting</option>
                                    <option value="Approved">Approved</option>
                                    <option value="Rejected">Rejected</option>
                                    <option value="Lunas">Lunas</option>
                                </select>
                            </div>
                            <div>
                                <label for="loans-filter-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="loans-filter-start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="loans-filter-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="loans-filter-end-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div class="md:col-span-2 flex justify-end space-x-2">
                                <button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Filter</button>
                                <button type="button" id="loans-filter-reset-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Reset</button>
                            </div>
                        </form>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tipe</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Jumlah</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tenor</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Angsuran/Bln</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total Bayar</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="loans-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                        <!-- Pagination Controls for Loans -->
                        <div id="loans-pagination-controls" class="mt-4 flex justify-between items-center text-sm text-gray-600">
                            <!-- Rendered by JS -->
                        </div>
                    </div>
                </div>

                <!-- Testimonials Management Section -->
                <div id="testimonials-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Testimoni</h2>
                        <div>
                            <button id="add-testimonial-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Testimoni Baru</button>
                            <button class="back-to-settings-btn text-sm text-red-600 hover:underline ml-4">&larr; Kembali ke Pengaturan</button>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Foto</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Divisi/Jabatan</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Testimoni</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="testimonials-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Data will be populated by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Manage Partners Section -->
                <div id="manage-partners-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Mitra</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="flex justify-end mb-4">
                            <button id="add-partner-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Mitra Baru</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Logo</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Mitra</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="partners-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Manage Products Section (Consolidated) -->
                <div id="manage-products-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Produk</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <!-- Tab Navigation -->
                    <div class="border-b border-gray-200">
                        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                            <a href="#" data-target="products-sembako-tab" class="product-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-red-500 text-red-600">Produk Sembako</a>
                            <a href="#" data-target="products-elektronik-tab" class="product-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Produk Elektronik</a>
                            <a href="#" data-target="products-aplikasi-tab" class="product-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Produk Aplikasi</a>
                        </nav>
                    </div>

                    <!-- Sembako Products Tab -->
                    <div id="products-sembako-tab" class="product-tab-content mt-6">
                        <div class="flex justify-end mb-4"><button class="add-product-btn bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700" data-shop-type="sembako">Tambah Produk Sembako</button></div>
                        <div class="bg-white p-6 rounded-lg shadow-md"><div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Gambar</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Produk</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Deskripsi</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Harga</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Stok</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th></tr></thead><tbody id="toko-sembako-table-body" class="bg-white divide-y divide-gray-200"></tbody></table></div></div>
                    </div>

                    <!-- Elektronik Products Tab -->
                    <div id="products-elektronik-tab" class="product-tab-content mt-6 hidden">
                        <div class="flex justify-end mb-4">
                            <button class="add-product-btn bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700" data-shop-type="elektronik">Tambah Produk Elektronik</button>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md"><div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Gambar</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Produk</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Deskripsi</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Harga</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Stok</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th></tr></thead><tbody id="toko-elektronik-table-body" class="bg-white divide-y divide-gray-200"></tbody></table></div></div>
                    </div>

                    <!-- Aplikasi Products Tab -->
                    <div id="products-aplikasi-tab" class="product-tab-content mt-6 hidden">
                        <div class="flex justify-end mb-4"><button class="add-product-btn bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700" data-shop-type="aplikasi">Tambah Produk Aplikasi</button></div>
                        <div class="bg-white p-6 rounded-lg shadow-md"><div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ikon</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Aplikasi/Lisensi</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Deskripsi</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Harga</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Stok/Lisensi</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th></tr></thead><tbody id="toko-aplikasi-table-body" class="bg-white divide-y divide-gray-200"></tbody></table></div></div>
                    </div>
                </div>

                <!-- Usaha Koperasi: Toko Sembako Section -->
                <div id="toko-sembako-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <button class="sidebar-link text-sm text-red-600 hover:underline" data-target="usaha-koperasi">&larr; Kembali ke Unit Usaha</button>
                    </div>
                    <!-- Tab Navigation -->
                    <div class="hidden sm:block">
                        <div class="border-b border-gray-200">
                            <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                                <a href="#" data-target="sembako-orders-tab" class="sembako-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-red-500 text-red-600">Pesanan Masuk</a>
                                <a href="#" data-target="sembako-direct-cashier-tab" class="sembako-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Kasir Umum</a>
                            </nav>
                        </div>
                    </div>

                    <!-- Pesanan Masuk Tab -->
                    <div id="sembako-orders-tab" class="sembako-tab-content mt-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Daftar Pesanan Menunggu Pengambilan</h3>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Pesanan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Pesan</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total Belanja</th>
                                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pending-orders-table-body" class="bg-white divide-y divide-gray-200">
                                        <!-- Data akan dimuat di sini -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Direct Cashier Tab -->
                    <div id="sembako-direct-cashier-tab" class="sembako-tab-content mt-6 hidden">
                        <div class="flex flex-col lg:flex-row gap-6 h-[calc(100vh-15rem)]">
                            <!-- Product Grid (Left Side) -->
                            <div class="flex-grow bg-white p-4 rounded-lg shadow-md flex flex-col">
                                <div class="mb-4">
                                    <input type="text" id="direct-cashier-search" placeholder="Cari produk..." class="w-full px-4 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500">
                                </div>
                                <div id="direct-cashier-product-grid" class="flex-grow overflow-y-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-3 xl:grid-cols-5 gap-4 p-2">
                                    <!-- Product cards will be injected here -->
                                </div>
                            </div>

                            <!-- Cart (Right Side) -->
                            <div class="w-full lg:w-1/3 xl:w-1/4 bg-white p-4 rounded-lg shadow-md flex flex-col">
                                <h4 class="text-lg font-semibold mb-4 border-b pb-2">Keranjang</h4>
                                <div id="direct-cashier-items-body" class="flex-grow overflow-y-auto space-y-2">
                                    <!-- Cart items will be injected here -->
                                    <div class="text-center py-10 text-gray-500">
                                        <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                                        </svg>
                                        <p class="mt-2 text-sm">Keranjang kosong</p>
                                    </div>
                                </div>
                                <div class="border-t-2 mt-4 pt-4">
                                    <div class="flex justify-between font-bold text-xl">
                                        <span>Total</span>
                                        <span id="direct-cashier-total">Rp 0</span>
                                    </div>
                                    <button id="direct-cashier-complete-btn" class="mt-6 w-full bg-accent text-white py-3 rounded-lg font-semibold hover:bg-red-800 disabled:bg-gray-400" disabled>Selesaikan Penjualan</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Usaha Koperasi Main Menu Section -->
                <div id="usaha-koperasi-content" class="content-section">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Card Toko Sembako -->
                        <div data-target="toko-sembako" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Pesanan & Kasir Sembako</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lihat pesanan masuk dan verifikasi pembayaran di kasir.</p>
                        </div>
                        <!-- Card Laporan Kasir -->
                        <div data-target="report-cashier" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Laporan Kasir</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lihat rekapitulasi penjualan per kasir.</p>
                        </div>
                    </div>
                </div>

                <!-- Laporan Kasir Section -->
                <div id="report-cashier-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Laporan Kasir</h2>
                        <button class="sidebar-link text-sm text-red-600 hover:underline" data-target="usaha-koperasi">&larr; Kembali ke Unit Usaha</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <form id="cashier-report-filter-form" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-end">
                            <div>
                                <label for="cashier-report-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="cashier-report-start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="cashier-report-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="cashier-report-end-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="cashier-report-user-filter" class="block text-sm font-medium text-gray-700">Kasir</label>
                                <select id="cashier-report-user-filter" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></select>
                            </div>
                            <div>
                                <label for="cashier-report-payment-method-filter" class="block text-sm font-medium text-gray-700">Metode Pembayaran</label>
                                <select id="cashier-report-payment-method-filter" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                    <option value="">Semua Metode</option>
                                    <option value="Cash">Tunai</option>
                                    <option value="Potong Gaji">Potong Gaji</option>
                                    <option value="Transfer">Transfer</option>
                                </select>
                            </div>
                            <div class="flex justify-start space-x-2 md:col-span-4">
                                <button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tampilkan</button>
                                <button type="button" id="cashier-report-reset-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Reset</button>
                            </div>
                        </form>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Kasir</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Jml Transaksi</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total Tunai</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total Potong Gaji</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total Transfer</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total Pendapatan</th></tr>
                                </thead>
                                <tbody id="cashier-report-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Settings Section -->
                <div id="settings-content" class="content-section">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Pengaturan Umum</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Card Pengaturan Profil Koperasi -->
                        <div data-target="manage-cooperative-profile" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Profil Koperasi</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Ubah nama, alamat, dan logo koperasi.</p>
                        </div>
                        <!-- Card Pengaturan -->
                        <div data-target="manage-employers" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Perusahaan</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Tambah atau ubah daftar perusahaan.</p>
                        </div>
                        <div data-target="manage-positions" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Jabatan</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Tambah atau ubah daftar jabatan.</p>
                        </div>
                        <div data-target="manage-saving-types" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Tipe Simpanan</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Atur jenis-jenis simpanan yang tersedia.</p>
                        </div>
                        <div data-target="manage-loan-types" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v-1m0-1V4m0 2.01M12 14v4m0 0v1m0-1.01M12 16.01V14m0 6a9 9 0 110-18 9 9 0 010 18z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Tipe Pinjaman</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Atur jenis-jenis pinjaman yang tersedia.</p>
                        </div>
                        <div data-target="manage-loan-terms" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Tenor & Bunga</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Atur tenor dan suku bunga untuk setiap tipe pinjaman.</p>
                        </div>
                        <div data-target="manage-accounts" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Daftar Akun (COA)</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Kelola Chart of Accounts.</p>
                        </div>
                        <div data-target="manage-users-roles" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-5.656-5.958a6 6 0 00-6.344 0"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola User & Role</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Atur pengguna dan hak akses sistem.</p>
                        </div>
                        <div data-target="manage-suppliers" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2 2h8a1 1 0 001-1zM3 11h10"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Supplier</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Tambah atau ubah daftar supplier logistik.</p>
                        </div>
                        <div data-target="manage-saving-account-mapping" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Maping Akun Simpanan</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Hubungkan setiap tipe simpanan ke akun COA.</p>
                        </div>
                        <div data-target="manage-loan-account-mapping" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Maping Akun Pinjaman</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Hubungkan setiap tipe pinjaman ke akun COA.</p>
                        </div>
                        <div data-target="manage-shu-rules" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h3m-3 0v-3m-3 3h3m-3 0v-3m8-5H7a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V9a2 2 0 00-2-2z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Aturan Pembagian SHU</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Atur persentase alokasi SHU sesuai AD/ART.</p>
                        </div>
                        <div data-target="manage-products" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-pink-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A2 2 0 013 8v-5z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Produk</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Atur produk untuk semua unit usaha.</p>
                        </div>
                        <!-- Card Kelola Testimoni -->
                        <div data-target="testimonials" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-cyan-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-cyan-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Testimoni</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Atur testimoni yang ditampilkan di halaman utama.</p>
                        </div>
                        <!-- Card Kelola Mitra -->
                        <div data-target="manage-partners" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-lime-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-lime-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Mitra</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Atur logo mitra yang berjalan di halaman utama.</p>
                        </div>
                        <!-- Card Kelola Pengumuman -->
                        <div data-target="manage-announcements" class="settings-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.834 9.168-4.418"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kelola Pengumuman</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Buat, ubah, atau hapus pengumuman untuk anggota.</p>
                        </div>
                    </div>
                </div>

                <!-- Accounting Section -->
                <div id="accounting-content" class="content-section">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Menu Akunting</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div data-target="bulk-savings-input" class="accounting-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Input Simpanan Bulk</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Unggah data simpanan dari file Excel.</p>
                        </div>
                        <div data-target="general-journal" class="accounting-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Jurnal Umum</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Catat transaksi debit dan kredit.</p>
                        </div>
                        <div data-target="logistics-card" class="accounting-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2 2h8a1 1 0 001-1zM3 11h10"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kartu Logistik</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Catat pembelian barang dan logistik.</p>
                        </div>
                        <div data-target="receivables-ledger" class="accounting-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kartu Piutang</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Kelola dan lihat rincian piutang pinjaman anggota.</p>
                        </div>
                        <div data-target="stock-card" class="accounting-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Kartu Stok Barang</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lihat riwayat pergerakan stok untuk setiap produk.</p>
                        </div>
                        <div data-target="payable-card" class="accounting-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-pink-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Hutang Usaha</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Kelola dan catat pembayaran hutang ke supplier.</p>
                        </div>
                        <div data-target="post-shu" class="accounting-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v-1m0-1V4m0 2.01M12 14v4m0 0v1m0-1.01M12 16.01V14m0 6a9 9 0 110-18 9 9 0 010 18z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Posting SHU</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Hitung dan distribusikan SHU kepada anggota.</p>
                        </div>
                        <!-- Card Tutup Buku Bulanan -->
                        <div data-target="monthly-closing" class="accounting-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15l-2 2-2-2"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Tutup Buku Bulanan</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Proses jurnal penutup untuk pendapatan dan biaya bulanan.</p>
                        </div>
                    </div>
                </div>

                <!-- Reports Section -->
                <div id="reports-content" class="content-section">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Laporan Keuangan & Operasional</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Card Laporan Laba Rugi -->
                        <div data-target="report-income-statement" class="report-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Laporan Laba Rugi</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lihat pendapatan, HPP, dan laba bersih koperasi.</p>
                        </div>
                        <!-- Card Laporan Neraca -->
                        <div data-target="report-balance-sheet" class="report-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Laporan Neraca</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lihat posisi aset, kewajiban, dan ekuitas koperasi.</p>
                        </div>
                        <!-- Card Laporan Arus Kas -->
                        <div data-target="report-cash-flow" class="report-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Laporan Arus Kas</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lacak pergerakan kas dari aktivitas operasional, investasi, dan pendanaan.</p>
                        </div>
                        <!-- Card Laporan Buku Besar -->
                        <div data-target="report-general-ledger" class="report-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Buku Besar</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lihat rincian transaksi untuk setiap akun.</p>
                        </div>
                        <!-- Card Laporan Penjualan -->
                        <div data-target="report-sales" class="report-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Laporan Penjualan</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Analisis penjualan produk dari unit usaha.</p>
                        </div>
                        <!-- Card Laporan Status Tutup Buku -->
                        <div data-target="report-monthly-closing-status" class="report-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15l-2 2-2-2"></path>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Status Tutup Buku</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lihat status tutup buku bulanan dalam satu tahun.</p>
                        </div>
                        <!-- Card Laporan Jasa Pinjaman -->
                        <div data-target="report-loan-interest" class="report-card-link bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex flex-col">
                            <div class="w-12 h-12 rounded-full bg-rose-100 flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-lg text-gray-800">Laporan Jasa Pinjaman</h3>
                            <p class="text-sm text-gray-500 mt-1 flex-grow">Lihat rincian pendapatan bunga dari pinjaman anggota.</p>
                        </div>
                    </div>
                </div>

                <!-- Laporan Arus Kas Section -->
                <div id="report-cash-flow-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Laporan Arus Kas</h2>
                        <button class="back-to-reports-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Laporan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <div class="flex items-end space-x-4 mb-6 pb-6 border-b">
                            <div>
                                <label for="cf-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="cf-start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div>
                                <label for="cf-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="cf-end-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <button id="generate-cf-report-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tampilkan Laporan</button>
                            <button id="download-cf-pdf-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 hidden">Unduh PDF</button>
                        </div>
                        <div id="cf-report-preview" class="prose max-w-none"></div>
                    </div>
                </div>

                <!-- Laporan Laba Rugi Section -->
                <div id="report-income-statement-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Laporan Laba Rugi</h2>
                        <button class="back-to-reports-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Laporan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <div class="flex items-end space-x-4 mb-6 pb-6 border-b">
                            <div>
                                <label for="is-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="is-start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div>
                                <label for="is-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="is-end-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <button id="generate-is-report-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tampilkan Laporan</button>
                            <button id="download-is-pdf-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 hidden">Unduh PDF</button>
                        </div>
                        <div id="is-report-preview" class="prose max-w-none"></div>
                    </div>
                </div>

                <!-- Post SHU Section -->
                <div id="post-shu-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kalkulasi & Posting SHU</h2>
                        <button class="back-to-accounting-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Akunting</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Input Form -->
                        <div class="flex items-end space-x-4 mb-6 pb-6 border-b">
                            <div>
                                <label for="shu-calc-year" class="block text-sm font-medium text-gray-700">Tahun Buku</label>
                                <select id="shu-calc-year" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                            </div>
                            <div>
                                <label for="shu-calc-total" class="block text-sm font-medium text-gray-700">Total SHU Setelah Pajak (Rp)</label>
                                <input type="number" id="shu-calc-total" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500" placeholder="Contoh: 50000000">
                            </div>
                            <button id="calculate-shu-preview-btn" class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">Hitung & Pratinjau</button>
                        </div>
                        <!-- Preview Section -->
                        <div id="shu-preview-container" class="hidden">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Pratinjau Distribusi SHU</h3>
                            <div id="shu-preview-summary" class="mb-4 p-4 bg-gray-50 rounded-lg text-sm"></div>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">SHU Jasa Usaha</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">SHU Jasa Modal</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total SHU Diterima</th></tr></thead>
                                    <tbody id="shu-preview-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                            <div class="mt-6 text-right">
                                <button id="post-shu-btn" class="bg-red-600 text-white py-2 px-6 rounded-md hover:bg-red-700">Posting SHU ke Semua Anggota</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Monthly Closing Section -->
                <div id="monthly-closing-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Tutup Buku Bulanan</h2>
                        <button class="back-to-accounting-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Akunting</button>
                    </div>

                    <!-- Tab Navigation -->
                    <div class="hidden sm:block">
                        <div class="border-b border-gray-200">
                            <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                                <a href="#" data-target="monthly-closing-process-tab" class="monthly-closing-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-red-500 text-red-600">Proses Tutup Buku</a>
                                <a href="#" data-target="monthly-closing-history-tab" class="monthly-closing-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Riwayat Tutup Buku</a>
                            </nav>
                        </div>
                    </div>

                    <!-- Process Tab -->
                    <div id="monthly-closing-process-tab" class="monthly-closing-tab-content mt-6">
                        <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                            <div class="prose prose-sm max-w-none mb-6">
                                <h4>Perhatian</h4>
                                <p>Proses tutup buku akan membuat jurnal penutup untuk semua akun pendapatan dan biaya pada periode yang dipilih. Saldo laba/rugi bulan tersebut akan dipindahkan ke akun Ikhtisar Laba Rugi.</p>
                                <p class="font-bold text-red-700">Pastikan semua transaksi untuk bulan yang akan ditutup sudah tercatat dengan benar. Proses ini tidak dapat dibatalkan.</p>
                            </div>
                            <form id="monthly-closing-form" class="mt-6 border-t pt-6 space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="closing-month-select" class="block text-sm font-medium text-gray-700">Pilih Bulan</label>
                                        <select id="closing-month-select" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                                    </div>
                                    <div>
                                        <label for="closing-year-select" class="block text-sm font-medium text-gray-700">Pilih Tahun</label>
                                        <select id="closing-year-select" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                                    </div>
                                </div>
                                <div id="monthly-closing-feedback" class="hidden mt-4 p-3 rounded-md text-sm"></div>
                                <div class="pt-4">
                                    <button type="submit" class="w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition duration-200 font-semibold">Proses Tutup Buku</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- History Tab -->
                    <div id="monthly-closing-history-tab" class="monthly-closing-tab-content mt-6 hidden">
                        <div class="bg-white p-8 rounded-lg shadow-md max-w-4xl mx-auto">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">Riwayat Tutup Buku (12 Bulan Terakhir)</h3>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Periode</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Proses</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Laba/Rugi Bersih</th>
                                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="monthly-closing-history-body" class="bg-white divide-y divide-gray-200">
                                        <!-- Data riwayat akan dimuat di sini oleh JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Laporan Neraca Section -->
                <div id="report-balance-sheet-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Laporan Neraca</h2>
                        <button class="back-to-reports-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Laporan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <div class="flex items-end space-x-4 mb-6 pb-6 border-b">
                            <div>
                                <label for="bs-date" class="block text-sm font-medium text-gray-700">Per Tanggal</label>
                                <input type="date" id="bs-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <button id="generate-bs-report-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tampilkan Laporan</button>
                            <button id="download-bs-pdf-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 hidden">Unduh PDF</button>
                        </div>
                        <div id="bs-report-preview" class="prose max-w-none">
                            <!-- Preview will be rendered here -->
                        </div>
                    </div>
                </div>

                <!-- Laporan Penjualan Section -->
                <div id="report-sales-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Laporan Penjualan</h2>
                        <button class="back-to-reports-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Laporan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <div class="flex items-end space-x-4 mb-6 pb-6 border-b">
                            <div>
                                <label for="sales-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="sales-start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div>
                                <label for="sales-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="sales-end-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div>
                                <label for="sales-shop-type-filter" class="block text-sm font-medium text-gray-700">Tipe Toko</label>
                                <select id="sales-shop-type-filter" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                                    <option value="">Semua Toko</option>
                                    <option value="sembako">Sembako</option>
                                    <option value="elektronik">Elektronik</option>
                                    <option value="aplikasi">Aplikasi</option>
                                </select>
                            </div>
                            <button id="generate-sales-report-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tampilkan Laporan</button>
                            <button id="download-sales-pdf-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 hidden">Unduh PDF</button>
                        </div>
                        <div id="sales-report-preview" class="space-y-8"></div>
                    </div>
                </div>

                <!-- Laporan Buku Besar Section -->
                <div id="report-general-ledger-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Laporan Buku Besar</h2>
                        <button class="back-to-reports-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Laporan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end mb-6 pb-6 border-b">
                            <div class="md:col-span-2">
                                <label for="gl-start-account-select" class="block text-sm font-medium text-gray-700">Dari Akun</label>
                                <select id="gl-start-account-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                            </div>
                            <div class="md:col-span-2">
                                <label for="gl-end-account-select" class="block text-sm font-medium text-gray-700">Sampai Akun</label>
                                <select id="gl-end-account-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                            </div>
                            <div>
                                <label for="gl-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="gl-start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div>
                                <label for="gl-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="gl-end-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div class="md:col-span-2 flex space-x-2">
                                <button id="generate-gl-report-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tampilkan</button>
                                <button id="download-gl-pdf-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 hidden">Unduh PDF</button>
                            </div>
                        </div>
                        <div id="gl-report-preview" class="space-y-8"></div>
                    </div>
                </div>

                <!-- Laporan Status Tutup Buku Section -->
                <div id="report-monthly-closing-status-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Laporan Status Tutup Buku</h2>
                        <button class="back-to-reports-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Laporan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <div class="flex items-end space-x-4 mb-6 pb-6 border-b">
                            <div>
                                <label for="mcs-year-select" class="block text-sm font-medium text-gray-700">Pilih Tahun</label>
                                <select id="mcs-year-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                            </div>
                            <button id="download-mcs-pdf-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 hidden">Unduh PDF</button>
                        </div>
                        <div id="mcs-report-preview" class="overflow-x-auto">
                            <!-- Report table will be rendered here -->
                        </div>
                    </div>
                </div>

                <!-- Laporan Jasa Pinjaman Section -->
                <div id="report-loan-interest-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Laporan Pendapatan Jasa Pinjaman</h2>
                        <button class="back-to-reports-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Laporan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Filter Form -->
                        <div class="flex items-end space-x-4 mb-6 pb-6 border-b">
                            <div>
                                <label for="li-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="li-start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div>
                                <label for="li-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="li-end-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <button id="generate-li-report-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tampilkan Laporan</button>
                            <button id="download-li-pdf-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 hidden">Unduh PDF</button>
                        </div>
                        <div id="li-report-preview" class="prose max-w-none">
                            <!-- Preview will be rendered here -->
                        </div>
                    </div>
                </div>

                <!-- Bulk Savings Input Section -->
                <div id="bulk-savings-input-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Input Simpanan</h2>
                        <button class="back-to-accounting-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Akunting</button>
                    </div>

                    <!-- Tab Navigation -->
                    <div class="border-b border-gray-200">
                        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                            <a href="#" data-target="bulk-savings-upload-tab" class="savings-input-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-red-500 text-red-600">Unggah via Excel</a>
                            <a href="#" data-target="bulk-savings-manual-tab" class="savings-input-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Input Manual</a>
                        </nav>
                    </div>

                    <!-- Upload Tab -->
                    <div id="bulk-savings-upload-tab" class="savings-input-tab-content mt-6">
                        <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                            <div class="prose prose-sm max-w-none">
                                <h4>Panduan Unggah File</h4>
                                <ol>
                                    <li>Unduh template Excel yang sudah diisi dengan daftar anggota aktif.</li>
                                    <li>Isi kolom <strong>Tipe Simpanan</strong> (pilih dari dropdown), <strong>Jumlah</strong>, <strong>Tanggal</strong> (format YYYY-MM-DD, kosongkan untuk tanggal hari ini), dan <strong>Keterangan</strong> (opsional).</li>
                                    <li>Hanya baris yang memiliki isian <strong>Jumlah</strong> yang akan diproses.</li>
                                    <li>Simpanan yang diunggah akan otomatis berstatus <strong>"Approved"</strong> dan masuk ke daftar simpanan anggota.</li>
                                </ol>
                                <button id="download-savings-template-btn" class="no-underline inline-block bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 text-sm">Unduh Template Anggota</button>
                            </div>
                            <form id="bulk-savings-form" class="mt-6 border-t pt-6">
                                <div><label for="bulk-savings-file" class="block text-sm font-medium text-gray-700">Pilih File Excel (.xlsx)</label><input type="file" id="bulk-savings-file" required accept=".xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100"></div>
                                <div id="bulk-savings-feedback" class="hidden mt-4 p-3 rounded-md text-sm"></div>
                                <div class="mt-6"><button type="submit" class="w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition duration-200 font-semibold">Unggah dan Proses</button></div>
                            </form>
                        </div>
                    </div>

                    <!-- Manual Input Tab -->
                    <div id="bulk-savings-manual-tab" class="savings-input-tab-content mt-6 hidden">
                        <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">Formulir Input Simpanan Manual</h3>
                            <p class="text-sm text-gray-500 mb-6">Gunakan formulir ini untuk mencatat satu transaksi simpanan. Simpanan yang diinput di sini akan otomatis berstatus <strong>"Approved"</strong>.</p>
                            <form id="manual-saving-form" class="space-y-4 border-t pt-6">
                                <div>
                                    <label for="manual-saving-member" class="block text-sm font-medium text-gray-700">Anggota</label>
                                    <select id="manual-saving-member" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                                </div>
                                <div>
                                    <label for="manual-saving-type" class="block text-sm font-medium text-gray-700">Tipe Simpanan</label>
                                    <select id="manual-saving-type" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                                </div>
                                <div>
                                    <label for="manual-saving-amount" class="block text-sm font-medium text-gray-700">Jumlah (Rp)</label>
                                    <input type="number" id="manual-saving-amount" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                                </div>
                                <div>
                                    <label for="manual-saving-date" class="block text-sm font-medium text-gray-700">Tanggal Transaksi</label>
                                    <input type="date" id="manual-saving-date" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                                </div>
                                <div>
                                    <label for="manual-saving-description" class="block text-sm font-medium text-gray-700">Keterangan (Opsional)</label>
                                    <textarea id="manual-saving-description" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea>
                                </div>
                                <div id="manual-saving-feedback" class="hidden mt-4 p-3 rounded-md text-sm"></div>
                                <div class="pt-4">
                                    <button type="submit" class="w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition duration-200 font-semibold">Simpan Transaksi</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- General Journal Section -->
                <div id="general-journal-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Jurnal Umum</h2>
                        <div>
                            <button id="add-journal-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Jurnal Baru</button>
                            <button class="back-to-accounting-btn text-sm text-red-600 hover:underline ml-4">&larr; Kembali ke Akunting</button>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Referensi</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Deskripsi</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total Debit</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total Kredit</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="journal-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                        <div id="journal-pagination-controls" class="mt-4 flex justify-between items-center text-sm text-gray-600"></div>
                    </div>
                </div>

                <!-- Receivables Ledger Section (Kartu Piutang) -->
                <div id="receivables-ledger-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kartu Piutang Pinjaman</h2>
                        <button class="back-to-accounting-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Akunting</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <form id="receivables-filter-form" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-end">
                            <div class="md:col-span-3">
                                <label for="receivables-filter-search" class="block text-sm font-medium text-gray-700">Cari Nama Anggota</label>
                                <input type="text" id="receivables-filter-search" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div class="flex justify-end space-x-2">
                                <button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Filter</button>
                                <button type="button" id="receivables-filter-reset-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Reset</button>
                            </div>
                        </form>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Anggota</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Koperasi</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tgl Pinjaman</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Jumlah Pinjaman</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Sisa Pokok</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="receivables-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                        <div id="receivables-pagination-controls" class="mt-4 flex justify-between items-center text-sm text-gray-600"></div>
                    </div>
                </div>

                <!-- Logistics Card Section -->
                <div id="logistics-card-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kartu Logistik</h2>
                        <div>
                            <button id="add-logistics-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Beli Barang</button>
                            <button class="back-to-accounting-btn text-sm text-red-600 hover:underline ml-4">&larr; Kembali ke Akunting</button>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <form id="journal-filter-form" class="flex flex-wrap gap-4 mb-6 items-end">
                            <div class="flex-grow">
                                <label for="journal-filter-search" class="block text-sm font-medium text-gray-700">Cari Deskripsi / No. Referensi</label>
                                <input type="text" id="journal-filter-search" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="journal-filter-start-date" class="block text-sm font-medium text-gray-700">Dari Tanggal</label>
                                <input type="date" id="journal-filter-start-date" class="mt-1 block rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="journal-filter-end-date" class="block text-sm font-medium text-gray-700">Sampai Tanggal</label>
                                <input type="date" id="journal-filter-end-date" class="mt-1 block rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div class="flex space-x-2"><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Filter</button><button type="button" id="journal-filter-reset-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Reset</button></div>
                        </form>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Logistik</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Supplier</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Produk</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Qty</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Unit</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Harga Beli</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Status</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Jumlah</th>
                                    </tr>
                                </thead>
                                <tbody id="logistics-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Data will be populated by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Stock Card / Goods Receipt Section -->
                <div id="stock-card-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kartu Stok Barang</h2>
                        <button class="back-to-accounting-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Akunting</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Product Selection Dropdown -->
                        <div class="mb-4 max-w-md">
                            <label for="stock-card-product-select" class="block text-sm font-medium text-gray-700">Pilih Produk untuk Melihat Kartu Stok</label>
                            <select id="stock-card-product-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Keterangan</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Masuk</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Keluar</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Saldo</th>
                                    </tr>
                                </thead>
                                <tbody id="stock-card-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Data will be populated by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Payable Card / Accounts Payable Section -->
                <div id="payable-card-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Hutang Usaha (Supplier)</h2>
                        <button class="back-to-accounting-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Akunting</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <form id="payables-filter-form" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-end">
                            <div class="md:col-span-2">
                                <label for="payables-filter-search" class="block text-sm font-medium text-gray-700">Cari Supplier / No. Referensi</label>
                                <input type="text" id="payables-filter-search" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                            </div>
                            <div>
                                <label for="payables-filter-status" class="block text-sm font-medium text-gray-700">Status</label>
                                <select id="payables-filter-status" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                    <option value="">Semua Status</option>
                                    <option value="Unpaid">Unpaid</option>
                                    <option value="Partially Paid">Partially Paid</option>
                                    <option value="Paid">Paid</option>
                                </select>
                            </div>
                            <div class="flex justify-end space-x-2"><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Filter</button><button type="button" id="payables-filter-reset-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Reset</button></div>
                        </form>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Transaksi</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Referensi</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Supplier</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total Hutang</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Sudah Dibayar</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Sisa Hutang</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Status</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="payables-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Data will be populated by JS -->
                                </tbody>
                            </table>
                        </div>
                        <div id="payables-pagination-controls" class="mt-4 flex justify-between items-center text-sm text-gray-600"></div>
                    </div>
                </div>
                <!-- User & Role Management Section -->
                <div id="manage-users-roles-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola User & Role</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <!-- Tab Navigation -->
                    <div class="border-b border-gray-200">
                        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                            <a href="#" data-target="manage-users-tab" class="user-role-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-red-500 text-red-600">Kelola User</a>
                            <a href="#" data-target="manage-roles-tab" class="user-role-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Info Role</a>
                        </nav>
                    </div>

                    <!-- Users Tab -->
                    <div id="manage-users-tab" class="user-role-tab-content mt-6">
                        <div class="bg-white shadow sm:rounded-lg">
                            <div class="flex justify-between items-center px-4 py-5 sm:px-6">
                                <h3 class="text-lg leading-6 font-medium text-gray-900">Daftar Pengguna Sistem</h3>
                                <button id="add-user-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah User Baru</button>
                            </div>
                            <div class="border-t border-gray-200 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Email</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Role</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th></tr></thead>
                                    <tbody id="users-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Roles Tab -->
                    <div id="manage-roles-tab" class="user-role-tab-content mt-6 hidden">
                        <div id="role-permissions-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Kartu hak akses role akan dimuat di sini oleh JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Sub-pages for Settings -->
                <div id="manage-employers-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Perusahaan</h2>
                        <button id="show-add-employer-form-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Perusahaan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Perusahaan</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Alamat</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Telepon</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Kontrak</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Dokumen</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="employers-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="manage-positions-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Jabatan</h2>
                        <button id="show-add-position-form-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Jabatan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Jabatan</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="positions-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="manage-saving-types-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Tipe Simpanan</h2>
                        <button id="show-add-saving-type-form-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Tipe</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Tipe</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Deskripsi</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="saving-types-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="manage-loan-types-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Tipe Pinjaman</h2>
                        <button id="show-add-loan-type-form-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Tipe</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Tipe</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Deskripsi</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="loan-types-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="manage-loan-terms-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Tenor & Bunga</h2>
                        <button id="show-add-loan-term-form-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Tenor</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tipe Pinjaman</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tenor (Bulan)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Bunga (%)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="loan-terms-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- Sub-pages for Accounting -->
                <div id="manage-accounts-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Daftar Akun (COA)</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <!-- Tab Navigation -->
                    <div class="border-b border-gray-200">
                        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                            <a href="#" data-target="coa-list-tab" class="coa-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-red-500 text-red-600">Daftar Akun</a>
                            <a href="#" data-target="coa-types-tab" class="coa-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Kelola Tipe Akun</a>
                        </nav>
                    </div>

                    <!-- Daftar Akun Tab -->
                    <div id="coa-list-tab" class="coa-tab-content mt-6">
                        <div class="flex justify-end mb-4 space-x-2">
                            <input type="file" id="import-accounts-excel-input" class="hidden" accept=".xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet">
                            <button id="import-accounts-excel-btn" class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 flex items-center space-x-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z" clip-rule="evenodd" /></svg><span>Unggah Excel</span></button><button id="download-accounts-excel-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 flex items-center space-x-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.235a.75.75 0 10-1.09 1.03l4.25 4.5a.75.75 0 001.09 0l4.25-4.5a.75.75 0 00-1.09-1.03l-2.955 3.129V2.75z" /><path d="M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z" /></svg><span>Unduh Excel</span></button>
                            <button id="show-add-account-form-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Akun</button>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Akun</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Akun</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tipe Akun</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="accounts-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Kelola Tipe Akun Tab -->
                    <div id="coa-types-tab" class="coa-tab-content mt-6 hidden">
                        <div class="flex justify-end mb-4"><button id="show-add-account-type-form-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Tipe Akun</button></div>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Tipe Akun</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th></tr></thead>
                                    <tbody id="account-types-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Manage Suppliers Section -->
                <div id="manage-suppliers-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Supplier & Produk</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <!-- Tab Navigation -->
                    <div class="border-b border-gray-200">
                        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                            <a href="#" data-target="suppliers-tab" class="supplier-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-red-500 text-red-600">Kelola Supplier</a>
                            <a href="#" data-target="master-products-tab" class="supplier-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Kelola Item Produk</a>
                        </nav>
                    </div>

                    <!-- Suppliers Tab Content -->
                    <div id="suppliers-tab" class="supplier-tab-content mt-6">
                        <div class="flex justify-end mb-4"><button id="show-add-supplier-form-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Supplier</button></div>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No.</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Supplier</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Kontak Person</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Telepon</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="suppliers-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Master Products Tab Content -->
                    <div id="master-products-tab" class="supplier-tab-content mt-6 hidden">
                        <div class="flex justify-end mb-4"><button id="add-master-product-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Item Produk</button></div>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No.</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Item (Barcode)</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Item</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Unit Default</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th></tr>
                                    </thead>
                                    <tbody id="master-products-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Saving Account Mapping Section -->
                <div id="manage-saving-account-mapping-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Maping Akun Tipe Simpanan</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Tipe Simpanan</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Akun Terhubung (COA)</th>
                                    </tr>
                                </thead>
                                <tbody id="saving-mapping-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Data will be populated by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Loan Account Mapping Section -->
                <div id="manage-loan-account-mapping-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Maping Akun Tipe Pinjaman</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Tipe Pinjaman</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Akun Terhubung (COA)</th>
                                    </tr>
                                </thead>
                                <tbody id="loan-mapping-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- SHU Rules Management Section -->
                <div id="manage-shu-rules-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Aturan Pembagian SHU</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                        <form id="shu-rules-form" class="space-y-6">
                            <div>
                                <label for="shu-rules-year" class="block text-sm font-medium text-gray-700">Tahun Aturan</label>
                                <select id="shu-rules-year" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label for="shu-member-business-service" class="block text-sm font-medium text-gray-700">Jasa Usaha Anggota (%)</label>
                                    <input type="number" step="0.01" id="shu-member-business-service" required class="shu-percentage-input mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                </div>
                                <div>
                                    <label for="shu-member-capital-service" class="block text-sm font-medium text-gray-700">Jasa Modal Anggota (%)</label>
                                    <input type="number" step="0.01" id="shu-member-capital-service" required class="shu-percentage-input mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                </div>
                                <div>
                                    <label for="shu-reserve-fund" class="block text-sm font-medium text-gray-700">Dana Cadangan (%)</label>
                                    <input type="number" step="0.01" id="shu-reserve-fund" required class="shu-percentage-input mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                </div>
                                <div>
                                    <label for="shu-management-fund" class="block text-sm font-medium text-gray-700">Dana Pengurus & Karyawan (%)</label>
                                    <input type="number" step="0.01" id="shu-management-fund" required class="shu-percentage-input mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                </div>
                                <div>
                                    <label for="shu-education-fund" class="block text-sm font-medium text-gray-700">Dana Pendidikan (%)</label>
                                    <input type="number" step="0.01" id="shu-education-fund" required class="shu-percentage-input mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                </div>
                                <div>
                                    <label for="shu-social-fund" class="block text-sm font-medium text-gray-700">Dana Sosial (%)</label>
                                    <input type="number" step="0.01" id="shu-social-fund" required class="shu-percentage-input mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                </div>
                            </div>
                            <div class="border-t pt-4"><div class="flex justify-between items-center"><p class="text-lg font-semibold">Total Persentase:</p><p id="shu-total-percentage" class="text-lg font-bold">0%</p></div><p id="shu-percentage-error" class="text-red-600 text-sm mt-2 hidden">Total persentase harus 100%.</p></div>
                            <div class="flex justify-end pt-4"><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan Aturan</button></div>
                        </form>
                    </div>
                </div>

                <!-- Manage Announcements Section -->
                <div id="manage-announcements-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Pengumuman</h2>
                        <div>
                            <button id="add-announcement-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Tambah Pengumuman</button>
                            <button class="back-to-settings-btn text-sm text-red-600 hover:underline ml-4">&larr; Kembali ke Pengaturan</button>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Judul</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Dibuat</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th></tr>
                                </thead>
                                <tbody id="announcements-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Data will be populated by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Cooperative Profile Management Section -->
                <div id="manage-cooperative-profile-content" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Kelola Profil Koperasi</h2>
                        <button class="back-to-settings-btn text-sm text-red-600 hover:underline">&larr; Kembali ke Pengaturan</button>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                        <form id="cooperative-profile-form" class="space-y-6">
                            <div>
                                <label for="coop-name-input" class="block text-sm font-medium text-gray-700">Nama Koperasi</label>
                                <input type="text" id="coop-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div>
                                <label for="coop-address-input" class="block text-sm font-medium text-gray-700">Alamat</label>
                                <textarea id="coop-address-input" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea>
                            </div>
                            <div>
                                <label for="coop-phone-input" class="block text-sm font-medium text-gray-700">Telepon</label>
                                <input type="text" id="coop-phone-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                            </div>
                            <div>
                                <label for="coop-logo-input" class="block text-sm font-medium text-gray-700">Logo Koperasi</label>
                                <div class="mt-1 flex items-center space-x-4">
                                    <img id="coop-logo-preview" src="https://placehold.co/100x100?text=Logo" alt="Pratinjau Logo" class="h-20 w-20 object-contain rounded bg-gray-100 p-1 border">
                                    <input type="file" id="coop-logo-input" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100">
                                </div>
                            </div>
                            <div class="flex justify-end pt-4">
                                <button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan Perubahan</button>
                            </div>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Payment Method Modal -->
    <div id="payment-method-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-20 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-lg font-semibold text-gray-900">Pilih Metode Pembayaran</h3>
                <button id="close-payment-modal-btn" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <div class="mt-4 space-y-6">
                <fieldset>
                    <legend class="text-base font-medium text-gray-900">Metode Pembayaran</legend>
                    <div class="mt-4 space-y-4"><div class="flex items-center"><input id="payment-cash" name="payment-method" type="radio" value="Cash" checked class="focus:ring-red-500 h-4 w-4 text-red-600 border-gray-300"><label for="payment-cash" class="ml-3 block text-sm font-medium text-gray-700">Cash</label></div><div class="flex items-center"><input id="payment-transfer" name="payment-method" type="radio" value="Transfer" class="focus:ring-red-500 h-4 w-4 text-red-600 border-gray-300"><label for="payment-transfer" class="ml-3 block text-sm font-medium text-gray-700">Transfer</label></div><div class="flex items-center"><input id="payment-payroll" name="payment-method" type="radio" value="Potong Gaji" class="focus:ring-red-500 h-4 w-4 text-red-600 border-gray-300"><label for="payment-payroll" class="ml-3 block text-sm font-medium text-gray-700">Potong Gaji</label></div></div>
                </fieldset>

                <!-- Tenor Options, hidden by default -->
                <div id="tenor-options-container" class="hidden">
                    <label for="tenor" class="block text-sm font-medium text-gray-700">Tenor Potong Gaji (Bulan)</label>
                    <div id="payment-tenor-options" class="grid grid-cols-3 gap-2 mt-2">
                        <button data-tenor="1" class="payment-tenor-btn border border-gray-300 py-2 rounded-md text-sm active">1</button>
                        <button data-tenor="2" class="payment-tenor-btn border border-gray-300 py-2 rounded-md text-sm">2</button>
                        <button data-tenor="3" class="payment-tenor-btn border border-gray-300 py-2 rounded-md text-sm">3</button>
                    </div>
                    <input type="hidden" id="payment-tenor-input" value="1">
                </div>
            </div>
            <div class="flex justify-end space-x-2 pt-6 border-t mt-6">
                <button type="button" id="cancel-payment-modal-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button>
                <button type="button" id="confirm-payment-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Konfirmasi Pembayaran</button>
            </div>
        </div>
    </div>

    <!-- Member Details Modal -->
    <div id="member-details-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="member-details-modal-title" class="text-lg font-semibold text-gray-900">Detail Anggota</h3>
                <button id="close-member-details-modal-btn" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div id="member-details-content" class="mt-4 max-h-[80vh] overflow-y-auto p-2">
                <!-- Content will be populated by JS -->
            </div>
        </div>
    </div>

    <!-- Modal Edit Anggota -->
    <div id="member-edit-modal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 transition-opacity">
        <div class="flex items-center justify-center min-h-screen">
            <div class="bg-white rounded-lg shadow-xl transform transition-all sm:max-w-3xl sm:w-full m-4">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:text-left w-full">
                            <h3 class="text-lg leading-6 font-medium text-gray-900" id="member-edit-modal-title">Ubah Data Anggota</h3>
                            <div class="mt-4 max-h-[70vh] overflow-y-auto pr-4">
                                <form id="member-edit-form" class="space-y-4">
                                    <input type="hidden" id="member-edit-id">
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label for="member-edit-name" class="block text-sm font-medium text-gray-700">Nama Lengkap</label>
                                            <input type="text" id="member-edit-name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                        </div>
                                        <div>
                                            <label for="member-edit-ktp" class="block text-sm font-medium text-gray-700">Nomor KTP</label>
                                            <input type="text" id="member-edit-ktp" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                        </div>
                                        <div>
                                            <label for="member-edit-phone" class="block text-sm font-medium text-gray-700">No. Telepon</label>
                                            <input type="tel" id="member-edit-phone" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                        </div>
                                        <div>
                                            <label for="member-edit-email" class="block text-sm font-medium text-gray-700">Email</label>
                                            <input type="email" id="member-edit-email" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                                        </div>
                                        <div>
                                            <label for="member-edit-company" class="block text-sm font-medium text-gray-700">Perusahaan</label>
                                            <select id="member-edit-company" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></select>
                                        </div>
                                        <div>
                                            <label for="member-edit-position" class="block text-sm font-medium text-gray-700">Jabatan</label>
                                            <select id="member-edit-position" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></select>
                                        </div>
                                    </div>

                                    <div>
                                        <label for="member-edit-address-detail" class="block text-sm font-medium text-gray-700">Alamat Detail</label>
                                        <textarea id="member-edit-address-detail" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></textarea>
                                    </div>

                                    <div class="pt-4 border-t">
                                        <p class="text-base font-medium text-gray-800">Data Ahli Waris</p>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                                            <input type="text" id="member-edit-heir-name" placeholder="Nama Ahli Waris" class="block w-full rounded-md border-gray-300 shadow-sm">
                                            <input type="text" id="member-edit-heir-kk" placeholder="No. KK Ahli Waris" class="block w-full rounded-md border-gray-300 shadow-sm">
                                            <input type="text" id="member-edit-heir-relationship" placeholder="Hubungan" class="block w-full rounded-md border-gray-300 shadow-sm">
                                            <input type="tel" id="member-edit-heir-phone" placeholder="No. Telepon Ahli Waris" class="block w-full rounded-md border-gray-300 shadow-sm">
                                        </div>
                                    </div>

                                    <div class="pt-4 border-t">
                                        <p class="text-base font-medium text-gray-800">Unggah Ulang Dokumen (Opsional)</p>
                                        <p class="text-xs text-gray-500 mb-2">Isi hanya jika Anda ingin mengganti file yang sudah ada.</p>
                                        <div class="space-y-2">
                                            <div>
                                                <label for="member-edit-ktp-photo" class="block text-sm font-medium text-gray-700">Foto KTP Baru</label>
                                                <input type="file" id="member-edit-ktp-photo" accept="image/*" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100">
                                            </div>
                                            <div>
                                                <label for="member-edit-selfie-photo" class="block text-sm font-medium text-gray-700">Foto Selfie Baru</label>
                                                <input type="file" id="member-edit-selfie-photo" accept="image/*" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100">
                                            </div>
                                            <div>
                                                <label for="member-edit-kk-photo" class="block text-sm font-medium text-gray-700">Foto KK Baru</label>
                                                <input type="file" id="member-edit-kk-photo" accept="image/*" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="submit" form="member-edit-form" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm">
                        Simpan Perubahan
                    </button>
                    <button type="button" id="cancel-member-edit-modal" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm">
                        Batal
                    </button>
                    <button type="button" id="close-member-edit-modal" class="hidden">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Generic Modals for Settings -->
    <div id="employer-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="employer-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-employer-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="employer-form" class="mt-4 space-y-4">
                <input type="hidden" id="employer-id-input">
                <div><label for="employer-name-input" class="block text-sm font-medium text-gray-700">Nama Perusahaan</label><input type="text" id="employer-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="employer-address-input" class="block text-sm font-medium text-gray-700">Alamat</label><textarea id="employer-address-input" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea></div>
                <div><label for="employer-phone-input" class="block text-sm font-medium text-gray-700">Telepon</label><input type="text" id="employer-phone-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="employer-contract-input" class="block text-sm font-medium text-gray-700">Nomor Kontrak Kerjasama</label><input type="text" id="employer-contract-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="employer-document-input" class="block text-sm font-medium text-gray-700">Link Dokumen Kontrak (PDF)</label><input type="url" id="employer-document-input" placeholder="https://..." class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-employer-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>
    <div id="position-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="position-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-position-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="position-form" class="mt-4 space-y-4">
                <input type="hidden" id="position-id-input">
                <div><label for="position-name-input" class="block text-sm font-medium text-gray-700">Nama Jabatan</label><input type="text" id="position-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-position-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>
    <div id="saving-type-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="saving-type-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-saving-type-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="saving-type-form" class="mt-4 space-y-4">
                <input type="hidden" id="saving-type-id-input">
                <div><label for="saving-type-name-input" class="block text-sm font-medium text-gray-700">Nama Tipe</label><input type="text" id="saving-type-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="saving-type-description-input" class="block text-sm font-medium text-gray-700">Deskripsi</label><textarea id="saving-type-description-input" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-saving-type-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>
    <div id="loan-type-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="loan-type-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-loan-type-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="loan-type-form" class="mt-4 space-y-4">
                <input type="hidden" id="loan-type-id-input">
                <div><label for="loan-type-name-input" class="block text-sm font-medium text-gray-700">Nama Tipe</label><input type="text" id="loan-type-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="loan-type-description-input" class="block text-sm font-medium text-gray-700">Deskripsi</label><textarea id="loan-type-description-input" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-loan-type-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>
    <div id="loan-term-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="loan-term-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-loan-term-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="loan-term-form" class="mt-4 space-y-4">
                <input type="hidden" id="loan-term-id-input">
                <div><label for="loan-term-loantype-select" class="block text-sm font-medium text-gray-700">Tipe Pinjaman</label><select id="loan-term-loantype-select" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select></div>
                <div><label for="loan-term-tenor-input" class="block text-sm font-medium text-gray-700">Tenor (Bulan)</label><input type="number" id="loan-term-tenor-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="loan-term-interest-input" class="block text-sm font-medium text-gray-700">Suku Bunga (%)</label><input type="number" step="0.01" id="loan-term-interest-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-loan-term-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>
    <div id="account-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="account-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-account-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="account-form" class="mt-4 space-y-4">
                <input type="hidden" id="account-id-input">
                <div><label for="account-number-input" class="block text-sm font-medium text-gray-700">Nomor Akun</label><input type="text" id="account-number-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="account-name-input" class="block text-sm font-medium text-gray-700">Nama Akun</label><input type="text" id="account-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div><div><label for="account-type-select" class="block text-sm font-medium text-gray-700">Tipe Akun</label><select id="account-type-select" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select></div>
                <div><label for="parent-account-select" class="block text-sm font-medium text-gray-700">Akun Induk (Opsional)</label><select id="parent-account-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-account-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- Modal for Account Type -->
    <div id="account-type-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="account-type-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-account-type-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="account-type-form" class="mt-4 space-y-4">
                <input type="hidden" id="account-type-id-input">
                <div><label for="account-type-name-input" class="block text-sm font-medium text-gray-700">Nama Tipe Akun</label><input type="text" id="account-type-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-account-type-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- User Edit Modal -->
    <div id="edit-user-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="edit-user-modal-title" class="text-lg font-semibold text-gray-900">Ubah Data Pengguna</h3>
                <button id="close-edit-user-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <form id="edit-user-form" class="mt-4 space-y-4">
                <input type="hidden" id="edit-user-id-input">
                <div><label for="edit-user-name-input" class="block text-sm font-medium text-gray-700">Nama Lengkap</label><input type="text" id="edit-user-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div>
                    <label for="edit-user-email-input" class="block text-sm font-medium text-gray-700">Email</label>
                    <input type="email" id="edit-user-email-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-100" readonly>
                    <p class="text-xs text-gray-500 mt-1">Email tidak dapat diubah.</p>
                </div>
                <div id="edit-user-password-container" class="hidden">
                    <label for="edit-user-password-input" class="block text-sm font-medium text-gray-700">Password</label>
                    <input type="password" id="edit-user-password-input" minlength="8" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                    <p class="text-xs text-gray-500 mt-1">Kosongkan jika tidak ingin mengubah password. Minimal 8 karakter untuk password baru.</p>
                </div>
                <div><label for="edit-user-phone-input" class="block text-sm font-medium text-gray-700">No. Telepon</label><input type="text" id="edit-user-phone-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="edit-user-company-select" class="block text-sm font-medium text-gray-700">Perusahaan</label><select id="edit-user-company-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select></div>
                <div><label for="edit-user-position-select" class="block text-sm font-medium text-gray-700">Jabatan</label><select id="edit-user-position-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select></div>
                <div>
                    <label for="edit-user-status-select" class="block text-sm font-medium text-gray-700">Status</label>
                    <select id="edit-user-status-select" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                        <option value="Active">Active</option>
                        <option value="Inactive">Inactive</option>
                        <option value="Pending">Pending</option>
                        <option value="Rejected">Rejected</option>
                    </select>
                </div>
                <div>
                    <label for="edit-user-role-select" class="block text-sm font-medium text-gray-700">Role</label>
                    <select id="edit-user-role-select" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                        <option value="member">Member</option>
                        <option value="akunting">Akunting</option>
                        <option value="manager">Manager</option>
                        <option value="admin">Admin</option>
                        <option value="kasir">Kasir</option>
                    </select>
                </div>

                <!-- Tambahan: Informasi Alamat -->
                <div class="pt-4 border-t">
                    <h4 class="text-md font-semibold text-gray-800 mb-2">Informasi Alamat</h4>
                    <div class="space-y-4">
                        <div>
                            <label for="edit-user-address-detail" class="block text-sm font-medium text-gray-700">Alamat Detail (Sesuai KTP)</label>
                            <textarea id="edit-user-address-detail" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Tambahan: Informasi Ahli Waris -->
                <div class="pt-4 border-t">
                    <h4 class="text-md font-semibold text-gray-800 mb-2">Informasi Ahli Waris</h4>
                    <div class="space-y-4">
                        <div><label for="edit-user-heir-name" class="block text-sm font-medium text-gray-700">Nama Ahli Waris</label><input type="text" id="edit-user-heir-name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label for="edit-user-heir-relationship" class="block text-sm font-medium text-gray-700">Hubungan</label><input type="text" id="edit-user-heir-relationship" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div>
                            <div><label for="edit-user-heir-phone" class="block text-sm font-medium text-gray-700">Telepon Ahli Waris</label><input type="text" id="edit-user-heir-phone" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-edit-user-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan Perubahan</button></div>
            </form>
        </div>
    </div>

    <!-- Loan Details Modal (for Admin) -->
    <div id="admin-loan-details-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="admin-loan-details-modal-title" class="text-lg font-semibold text-gray-900">Detail Pinjaman</h3>
                <button id="close-admin-loan-details-modal-btn" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div class="mt-4 max-h-[80vh] overflow-y-auto p-2">
                <!-- Summary Section -->
                <div id="admin-loan-summary-section" class="mb-6 bg-gray-50 p-4 rounded-lg grid grid-cols-2 md:grid-cols-4 gap-4">
                    <!-- Summary content will be populated by JS -->
                </div>
                <!-- Installments Table -->
                <h4 class="text-md font-semibold text-gray-800 mb-4">Jadwal Angsuran</h4>
                <div class="overflow-x-auto border rounded-lg">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase">Ke-</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Jatuh Tempo</th>
                                <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Jumlah Angsuran</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tgl Bayar</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="admin-loan-installments-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Loan Commitment Letter Modal -->
    <div id="loan-commitment-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-3xl shadow-lg rounded-md bg-white">
            <div id="printable-commitment-area" class="text-left">
                <div class="flex justify-between items-center gap-4 mb-6 border-b pb-4">
                    <div class="flex items-center gap-4">
                        <img src="logo/logo.png" alt="Logo KOPKAKA" class="h-16 w-auto">
                        <div>
                            <h3 class="text-xl font-bold text-gray-900">Surat Pernyataan & Komitmen Pinjaman</h3>
                            <p class="text-sm text-gray-600">Koperasi Karya Kagum Abadi</p>
                        </div>
                    </div>
                    <button id="close-commitment-modal" class="text-gray-400 hover:text-gray-600 no-print text-2xl font-bold">&times;</button>
                </div>
                <div class="px-2 py-3 max-h-[60vh] overflow-y-auto">
                    <p class="text-sm text-gray-600">Saya yang bertanda tangan di bawah ini:</p>
                    <dl class="mt-2 text-sm space-y-1 prose prose-sm max-w-none">
                        <div class="flex"><dt class="font-semibold w-32 flex-shrink-0">Nama</dt><dd id="commitment-member-name-text">: Memuat...</dd></div>
                        <div class="flex"><dt class="font-semibold w-32 flex-shrink-0">No. Anggota</dt><dd id="commitment-coop-number-text">: Memuat...</dd></div>
                    </dl>
                    <p class="text-sm text-gray-600 mt-4">Dengan ini menyatakan bahwa saya mengajukan pinjaman kepada KOPKAKA dengan rincian sebagai berikut:</p>
                    <dl class="mt-2 text-sm space-y-1 prose prose-sm max-w-none">
                        <div class="flex"><dt class="font-semibold w-32 flex-shrink-0">Jumlah Pinjaman</dt><dd id="commitment-loan-amount-text" class="font-bold">: Memuat...</dd></div>
                        <div class="flex"><dt class="font-semibold w-32 flex-shrink-0">Produk Pinjaman</dt><dd id="commitment-loan-term-text">: Memuat...</dd></div>
                        <div class="flex"><dt class="font-semibold w-32 flex-shrink-0">Total Pengembalian</dt><dd id="commitment-total-repayment-text" class="font-bold">: Memuat...</dd></div>
                    </dl>
                    <div class="mt-4">
                        <p class="text-sm text-gray-600 font-semibold">Estimasi Jadwal Angsuran:</p>
                        <div id="commitment-amortization-table-container" class="mt-2 max-h-40 overflow-y-auto border rounded-md">
                            <!-- Tabel angsuran akan disisipkan di sini oleh JavaScript -->
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 mt-4">Saya telah membaca, memahami, dan setuju untuk mematuhi semua syarat dan ketentuan pinjaman yang berlaku di KOPKAKA. Saya bersedia untuk melunasi pinjaman sesuai dengan jadwal angsuran yang telah ditetapkan.</p>
                    <p class="text-sm text-gray-600 mt-2">Surat pernyataan ini saya buat dengan sadar dan tanpa ada paksaan dari pihak manapun.</p>
                    <div class="mt-6 flex justify-end no-print">
                        <div class="text-center">
                            <p class="text-sm text-gray-600">Bandung, <span id="commitment-current-date"></span></p>
                            <p class="text-sm text-gray-600 mt-1">Hormat saya,</p>
                            <div class="mt-2 border bg-gray-50 rounded-md p-2 min-h-[10rem] flex items-center justify-center">
                                <div id="member-signature-container" class="w-full h-40"></div>
                            </div>
                            <p class="mt-4 font-semibold text-sm border-t pt-1" id="commitment-signature-name-text">Memuat...</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="items-center px-4 py-3 mt-4 border-t no-print">
                <button type="button" id="print-commitment-btn" class="px-4 py-2 bg-blue-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300">Cetak PDF</button>
                <button type="button" id="cancel-commitment-modal" class="mt-2 px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md w-full shadow-sm hover:bg-gray-300">Tutup</button>
            </div>
        </div>
    </div>

    <!-- Loan Edit Modal -->
    <div id="loan-edit-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-lg font-semibold text-gray-900">Surat Pernyataan & Komitmen Pinjaman</h3>
                <h3 id="loan-edit-modal-title" class="text-lg font-semibold text-gray-900">Ubah Pengajuan Pinjaman</h3><button id="close-loan-edit-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
        </div>
    </div>

    <!-- Loan Edit Modal -->
    <div id="loan-edit-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="loan-edit-modal-title" class="text-lg font-semibold text-gray-900">Ubah Pengajuan Pinjaman</h3><button id="close-loan-edit-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="loan-edit-form" class="mt-4 space-y-4">
                <input type="hidden" id="loan-edit-id-input">
                <div><label for="loan-edit-member-name" class="block text-sm font-medium text-gray-700">Nama Anggota</label><p id="loan-edit-member-name" class="mt-1 text-gray-900 font-semibold"></p></div>
                <div><label for="loan-edit-term-select" class="block text-sm font-medium text-gray-700">Produk Pinjaman (Tipe & Tenor)</label><select id="loan-edit-term-select" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select></div>
                <div><label for="loan-edit-amount-input" class="block text-sm font-medium text-gray-700">Jumlah Pinjaman (Rp)</label><input type="number" step="1000" id="loan-edit-amount-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-loan-edit-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan Perubahan</button></div>
            </form>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="product-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="product-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-product-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="product-form" class="mt-4 space-y-4">
                <input type="hidden" id="product-id-input">
                <input type="hidden" id="product-shop-type-input">
                <div id="product-name-field-container">
                    <label for="product-name-input" class="block text-sm font-medium text-gray-700">Nama Produk</label>
                    <input type="text" id="product-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                </div>
                <div><label for="product-description-input" class="block text-sm font-medium text-gray-700">Deskripsi</label><textarea id="product-description-input" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea></div>
                <div class="grid grid-cols-2 gap-4">
                    <div><label for="product-price-input" class="block text-sm font-medium text-gray-700">Harga (Rp)</label><input type="number" id="product-price-input" required min="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                    <div><label for="product-stock-input" class="block text-sm font-medium text-gray-700">Stok</label><input type="number" id="product-stock-input" required min="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                </div>
                <div>
                    <label for="product-image-input" class="block text-sm font-medium text-gray-700">Gambar Produk</label>
                    <div class="mt-1 flex items-center space-x-4">
                        <img id="product-image-preview" src="https://placehold.co/100x100?text=No+Image" alt="Pratinjau Gambar" class="h-16 w-16 object-cover rounded bg-gray-100">
                        <input type="file" id="product-image-input" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100">
                    </div>
                    <input type="hidden" id="product-current-image-url">
                </div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-product-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- Journal Entry Modal -->
    <div id="journal-entry-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-5 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="journal-modal-title" class="text-lg font-semibold text-gray-900">Buat Jurnal Baru</h3>
                <button id="close-journal-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <form id="journal-entry-form" class="mt-4 space-y-4">
                <input type="hidden" id="journal-id-input">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div><label for="journal-date-input" class="block text-sm font-medium text-gray-700">Tanggal</label><input type="date" id="journal-date-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                    <div><label for="journal-ref-input" class="block text-sm font-medium text-gray-700">No. Referensi</label><input type="text" id="journal-ref-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                </div>
                <div><label for="journal-desc-input" class="block text-sm font-medium text-gray-700">Deskripsi</label><textarea id="journal-desc-input" rows="2" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea></div>
                <div class="overflow-x-auto border rounded-lg">
                    <table class="min-w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Akun</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Debit</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Kredit</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="journal-lines-body"></tbody>
                        <tfoot class="bg-gray-50 font-semibold">
                            <tr>
                                <td class="px-4 py-2 text-right">Total</td>
                                <td class="px-4 py-2 text-right" id="journal-total-debit">Rp 0</td>
                                <td class="px-4 py-2 text-right" id="journal-total-credit">Rp 0</td>
                                <td></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <button type="button" id="add-journal-line-btn" class="text-sm text-blue-600 hover:underline">+ Tambah Baris</button>
                <div id="journal-balance-error" class="text-red-600 text-sm hidden">Total Debit dan Kredit harus seimbang.</div>
                <div class="flex justify-end space-x-2 pt-4 border-t mt-4"><button type="button" id="cancel-journal-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan Jurnal</button></div>
            </form>
        </div>
    </div>

    <!-- Journal Details Modal -->
    <div id="journal-details-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="journal-details-modal-title" class="text-lg font-semibold text-gray-900">Detail Jurnal</h3>
                <button id="close-journal-details-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <div id="journal-details-content" class="mt-4 max-h-[70vh] overflow-y-auto p-1">
                <!-- Content will be populated by JS -->
            </div>
            <div id="journal-details-footer" class="flex justify-end space-x-2 pt-4 border-t mt-4">
                <button id="delete-journal-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Hapus</button>
                <button id="edit-journal-btn" class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">Ubah</button>
            </div>
        </div>
    </div>

    <!-- Logistics Modal -->
    <div id="logistics-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="logistics-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-logistics-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="logistics-form" class="mt-4 space-y-4">
                <input type="hidden" id="logistics-id-input">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div><label for="logistics-entry_date-input" class="block text-sm font-medium text-gray-700">Tanggal</label><input type="date" id="logistics-entry_date-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                    <div><label for="logistics-reference_number-input" class="block text-sm font-medium text-gray-700">No. Logistik</label><input type="text" id="logistics-reference_number-input" placeholder="Akan dibuat otomatis jika kosong" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                    <div><label for="logistics-supplier_id-select" class="block text-sm font-medium text-gray-700">Supplier</label><select id="logistics-supplier_id-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></select></div>
                </div>
                <div class="overflow-x-auto border rounded-lg">
                    <table class="min-w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase w-2/5">Produk</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Qty</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Unit</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Harga Beli</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="logistics-lines-body"></tbody>
                    </table>
                </div>
                <button type="button" id="add-logistics-line-btn" class="text-sm text-blue-600 hover:underline">+ Tambah Baris Produk</button>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-logistics-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- Logistics Details Modal -->
    <div id="logistics-details-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-3xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="logistics-details-modal-title" class="text-lg font-semibold text-gray-900">Detail Logistik</h3>
                <button id="close-logistics-details-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <div id="logistics-details-content" class="mt-4 max-h-[70vh] overflow-y-auto p-1">
                <!-- Content will be populated by JS -->
            </div>
            <div id="logistics-details-footer" class="flex justify-end space-x-2 pt-4 border-t mt-4">
                <button id="receive-logistics-ref-btn" class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 hidden">Terima Barang</button>
                <button id="print-logistics-po-btn" class="bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600">Print PO (PDF)</button>
                <button id="delete-logistics-ref-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Hapus</button>
                <button id="edit-logistics-ref-btn" class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">Ubah</button>
            </div>
        </div>
    </div>

    <!-- Template for new logistics line -->
    <template id="logistics-line-template">
        <tr class="logistics-line-row">
            <td class="p-2">
                <select class="logistics-product-select w-full rounded-md border-gray-300 shadow-sm text-sm" required>
                    <option value="">Memuat produk...</option>
                </select>
            </td>
            <td class="p-2"><input type="number" step="any" class="logistics-quantity w-full rounded-md border-gray-300 shadow-sm text-sm" required></td>
            <td class="p-2"><input type="text" placeholder="Pcs, Kg" class="logistics-unit w-full rounded-md border-gray-300 shadow-sm text-sm" required></td>
            <td class="p-2"><input type="number" step="any" class="logistics-purchase-price w-full rounded-md border-gray-300 shadow-sm text-sm" required></td>
            <td class="p-2 text-center"><button type="button" class="remove-logistics-line-btn text-red-500 hover:text-red-700">&times;</button></td>
        </tr>
    </template>

    <!-- Supplier Modal -->
    <div id="supplier-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="supplier-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-supplier-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="supplier-form" class="mt-4 space-y-4">
                <input type="hidden" id="supplier-id-input">
                <div><label for="name-input" class="block text-sm font-medium text-gray-700">Nama Supplier</label><input type="text" id="name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="contact-person-input" class="block text-sm font-medium text-gray-700">Kontak Person</label><input type="text" id="contact-person-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="phone-input" class="block text-sm font-medium text-gray-700">Telepon</label><input type="text" id="phone-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-supplier-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- Master Product Modal -->
    <div id="master-product-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="master-product-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-master-product-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="master-product-form" class="mt-4 space-y-4">
                <input type="hidden" id="master-product-id-input">
                <div><label for="item-number-input" class="block text-sm font-medium text-gray-700">Nomor Item (untuk Barcode)</label><input type="text" id="item-number-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="master-product-name-input" class="block text-sm font-medium text-gray-700">Nama Item Produk</label><input type="text" id="master-product-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="master-product-description-input" class="block text-sm font-medium text-gray-700">Deskripsi</label><textarea id="master-product-description-input" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea></div>
                <div><label for="default-unit-input" class="block text-sm font-medium text-gray-700">Unit Default (Contoh: Pcs, Kg, Liter)</label><input type="text" id="default-unit-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-master-product-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div id="order-details-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-3xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b no-print">
                <h3 id="order-details-modal-title" class="text-lg font-semibold text-gray-900">Detail Pesanan</h3>
                <button id="close-order-details-modal-btn" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div id="order-details-content-wrapper" class="mt-4 max-h-[70vh] overflow-y-auto p-2 print:max-h-full print:overflow-visible">
                <!-- Content will be populated by JS -->
            </div>
            <div class="flex justify-end pt-4 border-t mt-4 no-print">
                <button id="print-order-details-btn" class="bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600">Cetak Daftar Barang</button>
            </div>
        </div>
    </div>

    <!-- Testimonial Modal -->
    <div id="testimonial-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="testimonial-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-testimonial-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="testimonial-form" class="mt-4 space-y-4">
                <input type="hidden" id="testimonial-id-input">
                <div><label for="testimonial-name-input" class="block text-sm font-medium text-gray-700">Nama</label><input type="text" id="testimonial-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="testimonial-division-input" class="block text-sm font-medium text-gray-700">Divisi/Jabatan</label><input type="text" id="testimonial-division-input" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="testimonial-text-input" class="block text-sm font-medium text-gray-700">Teks Testimoni</label><textarea id="testimonial-text-input" rows="4" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea></div>
                <div>
                    <label for="testimonial-photo-input" class="block text-sm font-medium text-gray-700">Foto</label>
                    <div class="mt-1 flex items-center space-x-4">
                        <img id="testimonial-photo-preview" src="https://placehold.co/100x100?text=Foto" alt="Pratinjau Foto" class="h-16 w-16 object-cover rounded-full bg-gray-100">
                        <input type="file" id="testimonial-photo-input" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100">
                    </div>
                </div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-testimonial-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- Accounts Payable Details & Payment Modal -->
    <div id="payable-details-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="payable-details-modal-title" class="text-lg font-semibold text-gray-900">Detail Hutang Usaha</h3>
                <button id="close-payable-details-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <div id="payable-details-content" class="mt-4 max-h-[70vh] overflow-y-auto p-1">
                <!-- Content will be populated by JS -->
            </div>
            <div id="payable-payment-form-container" class="mt-6 border-t pt-6">
                <h4 class="text-md font-semibold text-gray-800 mb-4">Catat Pembayaran Baru</h4>
                <form id="payable-payment-form" class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                    <input type="hidden" id="payable-id-input">
                    <div>
                        <label for="payable-payment-date" class="block text-sm font-medium text-gray-700">Tanggal Bayar</label>
                        <input type="date" id="payable-payment-date" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                    <div>
                        <label for="payable-payment-amount" class="block text-sm font-medium text-gray-700">Jumlah Bayar (Rp)</label>
                        <input type="number" id="payable-payment-amount" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                    <div><label for="payable-payment-method" class="block text-sm font-medium text-gray-700">Metode Bayar</label><select id="payable-payment-method" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"><option>Transfer Bank</option><option>Kas</option></select></div>
                    <div><button type="submit" class="w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan Pembayaran</button></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Resignation Processing Modal -->
    <div id="resignation-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="resignation-modal-title" class="text-lg font-semibold text-gray-900">Proses Pengunduran Diri</h3>
                <button id="close-resignation-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <div id="resignation-modal-content" class="mt-4 space-y-4">
                <input type="hidden" id="resignation-member-id-input">
                <p>Anda akan memproses pengunduran diri untuk anggota:</p>
                <p class="font-bold text-xl" id="resignation-member-name">Memuat...</p>
                <div class="p-4 bg-yellow-50 border-l-4 border-yellow-400"><p class="text-sm text-yellow-800">Total simpanan yang akan dikembalikan kepada anggota adalah:</p><p class="font-bold text-2xl text-yellow-900" id="resignation-total-savings">Memuat...</p><p class="text-xs text-yellow-700 mt-2">Pastikan Anda telah melakukan pembayaran dana ini kepada anggota di luar sistem sebelum melanjutkan.</p></div>
                <p class="text-sm text-gray-600">Setelah dikonfirmasi, status anggota akan diubah menjadi <strong class="text-red-700">"Inactive"</strong> dan semua simpanan akan dianggap telah dikembalikan. Jurnal akuntansi akan dibuat secara otomatis.</p>
                <p class="text-sm text-red-700 font-semibold">Tindakan ini tidak dapat dibatalkan.</p>
            </div>
            <div class="flex justify-end space-x-2 pt-6 border-t mt-6">
                <button type="button" id="cancel-resignation-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button>
                <button type="button" id="confirm-resignation-btn" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Konfirmasi & Proses</button>
            </div>
        </div>
    </div>

    <!-- Modal Ganti Password -->
    <div id="change-password-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 hidden">
        <div class="relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-lg font-medium text-gray-900">Ganti Password</h3>
                <button id="close-change-password-modal" class="text-gray-400 hover:text-gray-600 text-2xl font-bold">&times;</button>
            </div>
            <div class="mt-5">
                <form id="change-password-form" class="space-y-4">
                    <div>
                        <label for="current-password" class="block text-sm font-medium text-gray-700">Password Saat Ini</label>
                        <input type="password" id="current-password" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                    </div>
                    <div>
                        <label for="new-password" class="block text-sm font-medium text-gray-700">Password Baru</label>
                        <input type="password" id="new-password" required minlength="8" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                        <p class="mt-1 text-xs text-gray-500">Minimal 8 karakter.</p>
                    </div>
                    <div>
                        <label for="confirm-new-password" class="block text-sm font-medium text-gray-700">Konfirmasi Password Baru</label>
                        <input type="password" id="confirm-new-password" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500">
                    </div>
                    <div id="change-password-error" class="text-red-600 text-sm hidden p-2 bg-red-50 rounded-md"></div>
                    <div class="pt-4 flex justify-end space-x-2">
                        <button type="button" id="cancel-change-password-modal" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300">Batal</button>
                        <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">Simpan Password</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Announcement Modal -->
    <div id="announcement-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b"><h3 id="announcement-modal-title" class="text-lg font-semibold text-gray-900"></h3><button id="close-announcement-modal" class="text-gray-400 hover:text-gray-600">&times;</button></div>
            <form id="announcement-form" class="mt-4 space-y-4">
                <input type="hidden" id="announcement-id-input">
                <div><label for="announcement-title-input" class="block text-sm font-medium text-gray-700">Judul Pengumuman</label><input type="text" id="announcement-title-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="announcement-content-input" class="block text-sm font-medium text-gray-700">Isi Pengumuman</label><textarea id="announcement-content-input" rows="6" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></textarea></div>
                <div class="flex items-start">
                    <div class="flex items-center h-5">
                        <input id="is-published-input" name="is_published" type="checkbox" class="focus:ring-red-500 h-4 w-4 text-red-600 border-gray-300 rounded">
                    </div>
                    <div class="ml-3 text-sm">
                        <label for="is-published-input" class="font-medium text-gray-700">Publikasikan</label>
                        <p class="text-gray-500">Jika dicentang, pengumuman akan langsung tampil di dasbor anggota.</p>
                    </div>
                </div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-announcement-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- Partner Modal -->
    <div id="partner-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 id="partner-modal-title" class="text-lg font-semibold text-gray-900"></h3>
                <button id="close-partner-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <form id="partner-form" class="mt-4 space-y-4">
                <input type="hidden" id="partner-id-input">
                <div><label for="partner-name-input" class="block text-sm font-medium text-gray-700">Nama Mitra</label><input type="text" id="partner-name-input" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div><label for="partner-website-input" class="block text-sm font-medium text-gray-700">Website URL (Opsional)</label><input type="url" id="partner-website-input" placeholder="https://..." class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"></div>
                <div>
                    <label for="partner-logo-input" class="block text-sm font-medium text-gray-700">Logo Mitra</label>
                    <div class="mt-1 flex items-center space-x-4">
                        <img id="partner-logo-preview" src="https://placehold.co/100x100?text=Logo" alt="Pratinjau Logo" class="h-16 w-16 object-contain rounded bg-gray-100 p-1 border">
                        <input type="file" id="partner-logo-input" name="partnerLogo" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100">
                    </div>
                </div>
                <div class="flex justify-end space-x-2 pt-4"><button type="button" id="cancel-partner-modal" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300">Batal</button><button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- Cashier Verification Modal -->
    <div id="cashier-verification-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 p-4">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-3xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-lg font-semibold text-gray-900">Verifikasi Pesanan</h3>
                <button id="close-cashier-verification-modal" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <div class="mt-4">
                <p class="text-sm text-gray-600 mb-4">Pindai QR code dari aplikasi anggota atau tempel data barcode di bawah ini.</p>
                
                <!-- Area untuk QR Scanner -->
                <div id="qr-reader" class="w-full max-w-sm mx-auto border-2 border-dashed rounded-lg mb-4"></div>
                <div class="text-center mb-4">
                    <button id="start-scan-btn" class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">Mulai Pindai Kamera</button>
                </div>

                <div class="relative my-4"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">atau</span></div></div>
                <div class="flex space-x-2">
                    <input type="text" id="cashier-barcode-input" placeholder="Tempel data dari barcode di sini..." class="flex-grow block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm">
                </div>

                <!-- Verification Result -->
                <div id="cashier-result-container" class="hidden mt-6 border-t pt-6">
                    <h4 class="text-lg font-semibold text-gray-800 mb-4">Hasil Verifikasi</h4>
                    <div class="space-y-4 text-sm">
                        <div class="grid grid-cols-2 gap-x-4 gap-y-2">
                            <span class="font-medium text-gray-500">Nomor Pesanan:</span><span id="cashier-order-id" class="font-semibold text-gray-800"></span>
                            <span class="font-medium text-gray-500">Tanggal:</span><span id="cashier-order-date" class="font-semibold text-gray-800"></span>
                            <span class="font-medium text-gray-500">Nama Anggota:</span><span id="cashier-member-name" class="font-semibold text-gray-800"></span>
                            <span class="font-medium text-gray-500">No. Koperasi:</span><span id="cashier-coop-number" class="font-semibold text-gray-800"></span>
                        </div>
                    </div>
                    <div class="overflow-x-auto mt-4"><table class="min-w-full"><thead class="border-b"><tr><th class="text-left py-2 font-medium text-gray-600">Produk</th><th class="text-center py-2 font-medium text-gray-600">Qty</th><th class="text-right py-2 font-medium text-gray-600">Subtotal</th></tr></thead><tbody id="cashier-items-table" class="divide-y"></tbody><tfoot class="border-t-2 font-bold"><tr><td colspan="2" class="text-right py-2">Total</td><td id="cashier-order-total" class="text-right py-2"></td></tr></tfoot></table></div>
                    <div class="mt-6 text-right"><button id="cashier-complete-btn" class="bg-green-600 text-white py-2 px-6 rounded-md hover:bg-green-700">Selesaikan Transaksi</button></div>
                </div>
                <div id="cashier-error-container" class="hidden mt-4 p-4 bg-red-50 text-red-700 border border-red-200 rounded-lg"></div>
            </div>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="fixed top-5 right-5 z-50 space-y-2"></div>

    <script type="module" src="admin.js"></script>
</body>
</html>